services:
  telegram-bot-api:
    image: aiogram/telegram-bot-api:latest
    container_name: telegram_api_server
    restart: always
    # üëá –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä —Ç–æ—á–Ω–æ –∑–Ω–∞–ª, —á—Ç–æ –æ–Ω –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ
    command: ["--local"]
    environment:
      TELEGRAM_API_ID: ${TELEGRAM_API_ID}
      TELEGRAM_API_HASH: ${TELEGRAM_API_HASH}
      TELEGRAM_STAT: "true"
    volumes:
      - telegram_data:/var/lib/telegram-bot-api
    ports:
      - "8081:8081"

  bot:
    build: .
    container_name: video_bot
    restart: always
    env_file:
      - .env
    volumes:
      - ./bot_database.db:/app/bot_database.db
      - ./instagram_cookies.txt:/app/instagram_cookies.txt
      - ./youtube_cookies.txt:/app/youtube_cookies.txt
      # üëá –ë–æ—Ç –∏ —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ
      - telegram_data:/var/lib/telegram-bot-api
    depends_on:
      - telegram-bot-api

volumes:
  telegram_data:
